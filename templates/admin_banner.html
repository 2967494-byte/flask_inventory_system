{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <div class="admin-header">
        <h1 class="page-title">üì¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–æ–º</h1>
        <p class="admin-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º–Ω—ã–º –±–ª–æ–∫–æ–º –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ</p>
    </div>

    <!-- –í–∫–ª–∞–¥–∫–∏ -->
    <div class="admin-tabs mb-4">
        <div class="tabs">
            <a href="{{ url_for('admin_bp.admin_categories') }}" class="tab-btn">üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a>
            <a href="{{ url_for('admin_bp.admin_users') }}" class="tab-btn">üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</a>
            <a href="{{ url_for('admin_bp.admin_contact_requests') }}" class="tab-btn">üí¨ –°–æ–æ–±—â–µ–Ω–∏—è</a>
            <a href="{{ url_for('admin_bp.admin_banner_settings') }}" class="tab-btn active">üì¢ –ë–∞–Ω–Ω–µ—Ä</a>
        </div>
    </div>

    <div class="row">
        <div class="col-md-8 mx-auto">
            <div class="admin-section">
                <h5 class="mb-3">–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h5>
                <p class="text-muted small mb-4">
                    –ë–∞–Ω–Ω–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–π –∫–æ–ª–æ–Ω–∫–µ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
                    –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: —à–∏—Ä–∏–Ω–∞ 250-300px, –≤—ã—Å–æ—Ç–∞ –ª—é–±–∞—è (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–æ 400px).
                    –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: JPG, PNG, GIF.
                </p>

                <form method="POST" enctype="multipart/form-data" class="mb-4">
                    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

                    <div class="mb-3">
                        <label for="banner" class="form-label fw-bold">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª</label>
                        <input class="form-control" type="file" id="banner" name="banner" accept="image/*" required>
                    </div>

                    <div class="d-grid">
                        <button type="submit" class="btn btn-primary">
                            üíæ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
                        </button>
                    </div>
                </form>

                <hr class="my-4">

                <h5 class="mb-3">–¢–µ–∫—É—â–∏–π –±–∞–Ω–Ω–µ—Ä</h5>
                {% if banner_file %}
                <div class="text-center mb-3 p-3 bg-light rounded border">
                    <img src="{{ url_for('static', filename='img/ads/' + banner_file) }}" alt="Current Banner"
                        class="img-fluid rounded shadow-sm" style="max-width: 100%; max-height: 400px;">
                </div>
                <div class="text-center">
                    <form method="POST">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
                        <input type="hidden" name="delete_banner" value="true">
                        <button type="submit" class="btn btn-outline-danger"
                            onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –±–∞–Ω–Ω–µ—Ä? –ú–µ—Å—Ç–æ –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–µ–Ω–æ –∑–∞–≥–ª—É—à–∫–æ–π.')">
                            üóë –£–¥–∞–ª–∏—Ç—å –±–∞–Ω–Ω–µ—Ä
                        </button>
                    </form>
                </div>
                {% else %}
                <div class="alert alert-secondary text-center">
                    –ë–∞–Ω–Ω–µ—Ä –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∑–∞–≥–ª—É—à–∫–∞.
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<style>
    /* === –ï–î–ò–ù–´–ô –î–ò–ó–ê–ô–ù –ê–î–ú–ò–ù–ö–ò === */
    .admin-header {
        background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
        color: white;
        padding: 32px;
        border-radius: 12px;
        margin-bottom: 24px;
        text-align: center;
    }

    .admin-header .page-title {
        font-size: 32px;
        margin-bottom: 8px;
    }

    .admin-tabs {
        background: var(--background);
        border-radius: var(--radius);
        border: 1px solid var(--border);
        margin-bottom: 24px;
        overflow: hidden;
    }

    .tabs {
        display: flex;
        gap: 2px;
        background: var(--background-secondary);
        padding: 4px;
    }

    .tab-btn {
        flex: 1;
        padding: 14px 20px;
        background: transparent;
        border: none;
        border-radius: calc(var(--radius) - 2px);
        font-weight: 500;
        color: var(--text-secondary);
        text-decoration: none;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        font-size: 14px;
    }

    .tab-btn:hover {
        background: var(--background);
        color: var(--text-primary);
    }

    .tab-btn.active {
        background: var(--background);
        color: var(--avito-blue);
        box-shadow: var(--shadow-light);
    }

    .admin-section {
        background: white;
        padding: 32px;
        border-radius: 12px;
        box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
        border: 1px solid #e0e0e0;
    }

    @media (max-width: 768px) {
        .tabs {
            flex-direction: column;
        }

        .tab-btn {
            width: 100%;
            justify-content: flex-start;
        }
    }
</style>
{% endblock %}